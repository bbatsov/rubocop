# encoding: utf-8

module Rubocop
  # ProcessedSource contains objects which are generated by Parser
  # and other information such as disabled lines for cops.
  # It also provides a convenient way to access source lines.
  class ProcessedSource
    attr_reader :ast, :comments, :tokens, :buffer, :diagnostics
    attr_accessor :disabled_lines_for_cops

    def initialize(ast, comments, tokens, buffer, diagnostics)
      @ast = ast
      @comments = comments
      @tokens = tokens
      @buffer = buffer
      @diagnostics = diagnostics
    end

    def lines
      @lines ||= @buffer.source.split($RS)
    end

    def [](*args)
      lines[*args]
    end
  end
end
